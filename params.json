{"name":"Sky15","tagline":"nginx monitor status ","body":"`nginx的简单监控`    \r\n\r\n首先stub_status模块是用来监控nginx的一些性能和状态的模块,该模块是tsar的一个扩展模块.    \r\n\r\n安装:    \r\n==== \r\n 首先下载[tsar](https://github.com/alibaba/tsar)代码.\r\n 下载[stub_status](https://github.com/taobao/tsar-mod_nginx)代码.\r\n 然后把stub_status中的mod_ngx.c替换tsar模板中的mod_ngx.c.\r\n 然后在tsar中执行make makeinstall就安装ok了.\r\n\r\nnginx配置:\r\n====    \r\n该配置主要是为tsar提供http数据.\r\n\r\nlocation /nginx_status {\r\n        stub_status on;\r\n        access_log   off;\r\n        allow 127.0.0.1;\r\n        deny all;\r\n}\r\n\r\n\r\ntsar采集nginx的数据原理:\r\n====     \r\n   tsar 默认采集地址和端口分别为127.0.0.1,80上的数据,正好nginx的[stub_status](https://github.com/taobao/tsar-mod_nginx)模块结合.\r\n\r\n执行tsar --nginx后可以看到下面相关nginx的监控字段值:    \r\n```\r\n\r\nTime           ----------------------------------------------nginx--------------------------------------------- \r\nTime           accept  handle    reqs  active    read   write    wait     qps      rt  sslqps  spdyps  sslhst \r\n```\r\n\r\n* accept:接受的连接数.    \r\n* handle:在处理的连接数.     \r\n* reqs:响应的qps.     \r\n* active:活跃连接数.     \r\n等.    \r\n\r\n代码分析:\r\n====    \r\n后续提交补上.\r\n\r\n\r\n\r\n\r\nCommunite  \r\n====\r\n \r\n在使用中有任何问题，欢迎反馈给我，可以用以下联系方式跟我交流\r\n\r\n* 邮件(1031379296#qq.com, 把#换成@)\r\n* QQ: 1031379296\r\n* weibo: [@王发康](http://weibo.com/u/2786211992/home)\r\n\r\n\r\nThx\r\n====\r\n\r\n* chunshengsterATgmail.com\r\n\r\n\r\nAuthor\r\n====\r\n* Linux\\nginx\\golang\\c\\c++爱好者\r\n* 欢迎一起交流  一起学习# \r\n* Others say good and Others good\r\n","google":"nginx monitor status   stub_status tsar","note":"Don't delete this file! It's used internally to help with page regeneration."}